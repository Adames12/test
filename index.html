<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Škola Stínů – Vstup</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

<style>
  /* === MOBILNÍ OPRAVY === */
  html, body {
    width: 100%;
    height: 100%;
    touch-action: manipulation;
    overscroll-behavior: none;
  }

  body {
    margin: 0;
    padding: 20px;
    font-family: 'Cinzel', serif;
    background: #0a0a0a;
    color: #f5f5f5;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    position: relative;
  }

  h1 {
    font-size: clamp(2rem, 6vw, 3.8rem);
    color: #d4af37;
    text-shadow: 0 0 25px rgba(212,175,55,0.7);
    margin-bottom: 15px;
    position: relative;
    z-index: 2;
  }

  p {
    max-width: 90%;
    font-size: clamp(1rem, 4vw, 1.4rem);
    color: #ccc;
    margin-bottom: 35px;
    line-height: 1.5;
    z-index: 2;
  }

  .start-btn {
    padding: 15px 28px;
    font-size: clamp(1.1rem, 4vw, 1.5rem);
    font-weight: bold;
    background: #d4af37;
    color: #000;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    z-index: 2;
    box-shadow: 0 0 20px rgba(212,175,55,0.9);
    transition: 0.25s ease;
  }

  .start-btn:hover {
    transform: scale(1.05);
    background: #ffe27b;
  }

  /* CANVAS – pod obsahem */
  canvas#bg-dragon, canvas#bg-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 0;
    pointer-events: none;
  }

  /* Aby se drak NIKDY nepřekrýval s textem */
  @media(max-width: 600px) {
    canvas#bg-dragon {
      opacity: 0.25;
      filter: blur(0.5px);
    }
  }
</style>
</head>
<body>

<h1>Vítej v Škole Stínů</h1>
<p>Odvaž se vstoupit do světa tajemství a stínů. Pouze ti, kdo zná heslo, mohou pokračovat…</p>

<button class="start-btn" onclick="goToVerify()">Pokračovat</button>

<canvas id="bg-particles"></canvas>
<canvas id="bg-dragon"></canvas>

<script>
function goToVerify() {
  window.location.href = "SKOLA STINU VERIFY.html";
}

/* ===== DRAGON ===== */
const canvasDragon = document.getElementById('bg-dragon');
const ctxDragon = canvasDragon.getContext('2d');

function resizeDragonCanvas() {
  canvasDragon.width = window.innerWidth;
  canvasDragon.height = window.innerHeight;

  // Dynamické zmenšení draka na mobilech
  dragon.size = Math.min(window.innerWidth, window.innerHeight) * 0.75;
}
window.addEventListener('resize', resizeDragonCanvas);

let dragonImg = new Image();
dragonImg.src = 'dragon.png';
let dragonReady = false;
dragonImg.onload = () => { dragonReady = true; resizeDragonCanvas(); };

let dragon = {
  size: 450,
  x: window.innerWidth / 2,
  y: window.innerHeight / 2,
  floatY: 0,
  floatDir: 1
};

function drawDragon() {
  ctxDragon.clearRect(0,0,canvasDragon.width,canvasDragon.height);
  
  if(dragonReady){
    const scale = dragon.size / Math.max(dragonImg.width, dragonImg.height);
    const w = dragonImg.width * scale;
    const h = dragonImg.height * scale;

    dragon.floatY += 0.2 * dragon.floatDir;
    if(dragon.floatY > 15 || dragon.floatY < -15) dragon.floatDir *= -1;

    ctxDragon.save();
    ctxDragon.globalAlpha = 0.35;
    ctxDragon.drawImage(dragonImg, (canvasDragon.width-w)/2, (canvasDragon.height-h)/2 + dragon.floatY, w, h);
    ctxDragon.restore();
  }

  requestAnimationFrame(drawDragon);
}
drawDragon();

/* ===== PARTICLES ===== */
const canvasParticles = document.getElementById('bg-particles');
const ctxParticles = canvasParticles.getContext('2d');
canvasParticles.width = window.innerWidth;
canvasParticles.height = window.innerHeight;

let particles = [];
for(let i=0;i<120;i++){
  particles.push({
    x: Math.random()*window.innerWidth,
    y: Math.random()*window.innerHeight,
    size: Math.random()*2+1,
    speedX: (Math.random()-0.5)*0.15,
    speedY: (Math.random()-0.5)*0.15,
    alpha: Math.random()*0.5+0.1
  });
}

function drawParticles(){
  ctxParticles.clearRect(0,0,canvasParticles.width,canvasParticles.height);
  for(let p of particles){
    ctxParticles.beginPath();
    ctxParticles.arc(p.x,p.y,p.size,0,Math.PI*2);
    ctxParticles.fillStyle = `rgba(212,175,55,${p.alpha})`;
    ctxParticles.fill();

    p.x += p.speedX;
    p.y += p.speedY;

    if(p.x>window.innerWidth) p.x=0;
    if(p.x<0) p.x=window.innerWidth;
    if(p.y>window.innerHeight) p.y=0;
    if(p.y<0) p.y=window.innerHeight;
  }
  requestAnimationFrame(drawParticles);
}
drawParticles();

window.addEventListener('resize',()=>{
  canvasParticles.width = window.innerWidth;
  canvasParticles.height = window.innerHeight;
});
</script>

</body>
</html>


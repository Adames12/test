<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Škola Stínů – Vstup</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: 'Cinzel', serif;
    background: #0a0a0a;
    color: #f5f5f5;
    overflow: hidden;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
  }

  h1 {
    font-size: 4rem;
    color: #d4af37;
    text-shadow: 0 0 25px rgba(212,175,55,0.7), 0 0 50px rgba(212,175,55,0.4);
    margin-bottom: 20px;
    z-index: 2;
    position: relative;
  }

  p {
    max-width: 700px;
    color: #ccc;
    line-height: 1.6;
    z-index: 2;
    position: relative;
    margin-bottom: 50px;
  }

  .start-btn {
    padding: 20px 50px;
    font-size: 1.5em;
    font-weight: bold;
    color: #0a0a0a;
    background: #d4af37;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 0 25px rgba(212,175,55,0.9), 0 0 15px rgba(212,175,55,0.5) inset;
    transition: all 0.3s ease;
    z-index: 2;
    position: relative;
  }

  .start-btn:hover {
    background: #ffe27b;
    box-shadow: 0 0 45px rgba(255,226,123,1), 0 0 20px rgba(212,175,55,0.6) inset;
    transform: scale(1.08);
  }

  canvas#bg-dragon, canvas#bg-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 0;
    pointer-events: none;
  }

</style>
</head>
<body>

<h1>Vítej v Škole Stínů</h1>
<p>Odvaž se vstoupit do světa tajemství a stínů. Pouze ti, kdo zná heslo, mohou pokračovat…</p>
<button class="start-btn" onclick="goToVerify()">Pokračovat</button>

<canvas id="bg-particles"></canvas>
<canvas id="bg-dragon"></canvas>

<script>
// Přesměrování na verify stránku
function goToVerify() {
  window.location.href = "SKOLA STINU VERIFY.html";
}

// ===== DRAGON =====
const canvasDragon = document.getElementById('bg-dragon');
const ctxDragon = canvasDragon.getContext('2d');

function resizeDragonCanvas() {
  canvasDragon.width = window.innerWidth;
  canvasDragon.height = window.innerHeight;
}
window.addEventListener('resize', resizeDragonCanvas);

let dragonImg = new Image();
dragonImg.src = 'dragon.png';
let dragonReady = false;
dragonImg.onload = () => { dragonReady = true; resizeDragonCanvas(); };

let dragon = {
  size: Math.max(500, Math.min(window.innerWidth, window.innerHeight) * 0.8),
  x: window.innerWidth / 2,
  y: window.innerHeight / 2,
  rot: 0,
  rotSpeed: 0.0007,
  floatY: 0,
  floatDir: 1
};

function drawDragon() {
  ctxDragon.clearRect(0,0,canvasDragon.width,canvasDragon.height);
  if(dragonReady && dragonImg.width>0){
    const scale = dragon.size / Math.max(dragonImg.width, dragonImg.height);
    const w = dragonImg.width * scale;
    const h = dragonImg.height * scale;

    dragon.floatY += 0.3 * dragon.floatDir;
    if(dragon.floatY > 25 || dragon.floatY < -25) dragon.floatDir *= -1;

    ctxDragon.save();
    ctxDragon.translate(dragon.x, dragon.y + dragon.floatY);
    ctxDragon.globalAlpha = 0.35;
    ctxDragon.shadowColor = 'rgba(212,175,55,0.9)';
    ctxDragon.shadowBlur = dragon.size*0.2;
    ctxDragon.drawImage(dragonImg, -w/2, -h/2, w, h);
    ctxDragon.restore();

    dragon.rot += dragon.rotSpeed;
    if(dragon.rot > Math.PI*2) dragon.rot -= Math.PI*2;
  }
  requestAnimationFrame(drawDragon);
}
drawDragon();

// ===== PARTICLES =====
const canvasParticles = document.getElementById('bg-particles');
const ctxParticles = canvasParticles.getContext('2d');
canvasParticles.width = window.innerWidth;
canvasParticles.height = window.innerHeight;

let particles = [];
for(let i=0;i<150;i++){
  particles.push({
    x: Math.random()*window.innerWidth,
    y: Math.random()*window.innerHeight,
    size: Math.random()*2+1,
    speedX: (Math.random()-0.5)*0.2,
    speedY: (Math.random()-0.5)*0.2,
    alpha: Math.random()*0.6+0.2
  });
}

function drawParticles(){
  ctxParticles.clearRect(0,0,canvasParticles.width,canvasParticles.height);
  for(let p of particles){
    ctxParticles.beginPath();
    ctxParticles.arc(p.x, p.y, p.size, 0, Math.PI*2);
    ctxParticles.fillStyle = `rgba(212,175,55,${p.alpha})`;
    ctxParticles.fill();

    p.x += p.speedX;
    p.y += p.speedY;
    if(p.x>window.innerWidth) p.x=0;
    if(p.x<0) p.x=window.innerWidth;
    if(p.y>window.innerHeight) p.y=0;
    if(p.y<0) p.y=window.innerHeight;
  }
  requestAnimationFrame(drawParticles);
}
drawParticles();

window.addEventListener('resize',()=>{
  canvasParticles.width = window.innerWidth;
  canvasParticles.height = window.innerHeight;
});
</script>

</body>
</html>
